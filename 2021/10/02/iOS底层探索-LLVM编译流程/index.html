<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 4.2.1">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"yujiusheng.com","root":"/","scheme":"Muse","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="我们都知道iOS的编译器是LLVM，本篇我们就探索llvm的编译流程。 解释型语言和编译型语言区别解释型语言解释型语言的特征是：它的执行机制是使用一个解释器来执行，解释器对程序一句一句翻译成机器语言来一句一句执行。例如：shell、python等。 比如我们执行一段pythion代码： 12&#x2F;&#x2F;&#x2F;hello.pyprint(&quot;hello python&quot;)  我们执行上面的代码只需要： python">
<meta property="og:type" content="article">
<meta property="og:title" content="iOS底层探索-LLVM编译流程">
<meta property="og:url" content="http://yujiusheng.com/2021/10/02/iOS%E5%BA%95%E5%B1%82%E6%8E%A2%E7%B4%A2-LLVM%E7%BC%96%E8%AF%91%E6%B5%81%E7%A8%8B/index.html">
<meta property="og:site_name" content="Jason的博客">
<meta property="og:description" content="我们都知道iOS的编译器是LLVM，本篇我们就探索llvm的编译流程。 解释型语言和编译型语言区别解释型语言解释型语言的特征是：它的执行机制是使用一个解释器来执行，解释器对程序一句一句翻译成机器语言来一句一句执行。例如：shell、python等。 比如我们执行一段pythion代码： 12&#x2F;&#x2F;&#x2F;hello.pyprint(&quot;hello python&quot;)  我们执行上面的代码只需要： python">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/b7f85b98aca04cf6a2f7ee6e5d7341f2~tplv-k3u1fbpfcp-watermark.image">
<meta property="og:image" content="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/b583814a79a54188a81e97d02193ad01~tplv-k3u1fbpfcp-watermark.image">
<meta property="og:image" content="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/fc5f8b52042f4568aff42dd0772cbc7d~tplv-k3u1fbpfcp-watermark.image">
<meta property="og:image" content="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/35d1e508411d47448c08b787a1560860~tplv-k3u1fbpfcp-watermark.image">
<meta property="og:image" content="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/d5b7d078762b4b62a564dd0b95384104~tplv-k3u1fbpfcp-watermark.image">
<meta property="article:published_time" content="2021-10-02T08:48:14.000Z">
<meta property="article:modified_time" content="2021-10-03T08:45:56.287Z">
<meta property="article:author" content="Jason">
<meta property="article:tag" content="iOS底层">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/b7f85b98aca04cf6a2f7ee6e5d7341f2~tplv-k3u1fbpfcp-watermark.image">

<link rel="canonical" href="http://yujiusheng.com/2021/10/02/iOS%E5%BA%95%E5%B1%82%E6%8E%A2%E7%B4%A2-LLVM%E7%BC%96%E8%AF%91%E6%B5%81%E7%A8%8B/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-CN'
  };
</script>

  <title>iOS底层探索-LLVM编译流程 | Jason的博客</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Jason的博客</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yujiusheng.com/2021/10/02/iOS%E5%BA%95%E5%B1%82%E6%8E%A2%E7%B4%A2-LLVM%E7%BC%96%E8%AF%91%E6%B5%81%E7%A8%8B/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Jason">
      <meta itemprop="description" content="个人技术博客">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Jason的博客">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          iOS底层探索-LLVM编译流程
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-10-02 16:48:14" itemprop="dateCreated datePublished" datetime="2021-10-02T16:48:14+08:00">2021-10-02</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2021-10-03 16:45:56" itemprop="dateModified" datetime="2021-10-03T16:45:56+08:00">2021-10-03</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <p>我们都知道iOS的编译器是<code>LLVM</code>，本篇我们就探索<code>llvm</code>的编译流程。</p>
<h3 id="解释型语言和编译型语言区别"><a href="#解释型语言和编译型语言区别" class="headerlink" title="解释型语言和编译型语言区别"></a>解释型语言和编译型语言区别</h3><h4 id="解释型语言"><a href="#解释型语言" class="headerlink" title="解释型语言"></a>解释型语言</h4><p>解释型语言的特征是：它的执行机制是使用一个<code>解释器</code>来执行，<code>解释器</code>对程序一句一句<code>翻译</code>成<code>机器语言</code>来一句一句执行。例如：<code>shell</code>、<code>python</code>等。</p>
<p>比如我们执行一段<code>pythion</code>代码：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">///hello.py</span><br><span class="line">print(<span class="string">"hello python"</span>)</span><br></pre></td></tr></table></figure>

<p>我们执行上面的代码只需要：</p>
<p><code>python hello.py</code></p>
<h4 id="编译型语言"><a href="#编译型语言" class="headerlink" title="编译型语言"></a>编译型语言</h4><p>编译型语言的特征是：它的执行机制使用<code>编译器</code>来编译成<code>机器语言</code>,然后就可以直接执行编译后的<code>可执行文件</code>。例如：<code>c</code>、<code>java</code>等。</p>
<p>比如我们执行一段<code>c</code>代码：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">///hello.c</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc,<span class="keyword">const</span> <span class="keyword">char</span>* argv[])</span></span>&#123;</span><br><span class="line">  <span class="built_in">printf</span>(<span class="string">"hello c"</span>);</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>我们首先要对上面的文件进行编译：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">clang hello.c</span><br></pre></td></tr></table></figure>

<p>执行<code>clang</code>指令后，会生成一个<code>.out</code>的可执行文件，然后执行可执行文件就可以打印出<code>hello c</code>。</p>
<h3 id="传统编译器的设计"><a href="#传统编译器的设计" class="headerlink" title="传统编译器的设计"></a>传统编译器的设计</h3><p>编译器是由三部分构成的<code>编译器前端</code>、<code>优化器</code>、<code>编译器后端</code>。</p>
<p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/b7f85b98aca04cf6a2f7ee6e5d7341f2~tplv-k3u1fbpfcp-watermark.image?" alt="传统编译流程"></p>
<h4 id="编译器前端"><a href="#编译器前端" class="headerlink" title="编译器前端"></a>编译器前端</h4><p><code>编译器前端</code>主要做词法分析，语法分析，语义分析，检查源代码是否存在错误，构建<code>抽象语法树</code>(Abstract Syntax Tree,AST),最后前端会生成<code>中间代码</code>（intermediate representation，IR）。</p>
<h4 id="优化器"><a href="#优化器" class="headerlink" title="优化器"></a>优化器</h4><p><code>优化器</code>主要负责中间代码的优化。改善代码运行时间，例如消除冗余的计算。</p>
<h4 id="编译器后端"><a href="#编译器后端" class="headerlink" title="编译器后端"></a>编译器后端</h4><p><code>编译器后端</code>主要是将中间代码转换成<code>机器码</code>（二进制），并且进行机器相关的代码优化。</p>
<h4 id="llvm架构编译器的设计"><a href="#llvm架构编译器的设计" class="headerlink" title="llvm架构编译器的设计"></a>llvm架构编译器的设计</h4><p>Objective C/C/C++使用的编译器前端是<code>Clang</code>,Swift的前端是<code>Swift</code>,后端是<code>LLVM</code>。示例图如下：</p>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/b583814a79a54188a81e97d02193ad01~tplv-k3u1fbpfcp-watermark.image?" alt="LLVM编译器"></p>
<h3 id="编译流程"><a href="#编译流程" class="headerlink" title="编译流程"></a>编译流程</h3><p>我们使用main.m文件进行测试查看各阶段编译的结果</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> CUSTOM_HEIGHT 3</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">testAdd</span><span class="params">(<span class="keyword">int</span> a,<span class="keyword">int</span> b)</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> a+b+CUSTOM_HEIGHT;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span> * argv[])</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> testAdd(<span class="number">1</span>, <span class="number">2</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>通过命令我们可以打印源码的编译阶段</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">clang -ccc-<span class="built_in">print</span>-phases main.m</span><br></pre></td></tr></table></figure>

<figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">0</span>: <span class="string">input, "main.m", objective-c</span></span><br><span class="line"><span class="attr">1</span>: <span class="string">preprocessor, &#123;0&#125;, objective-c-cpp-output </span></span><br><span class="line"><span class="attr">2</span>: <span class="string">compiler, &#123;1&#125;, ir</span></span><br><span class="line"><span class="attr">3</span>: <span class="string">backend, &#123;2&#125;, assembler</span></span><br><span class="line"><span class="attr">4</span>: <span class="string">assembler, &#123;3&#125;, object</span></span><br><span class="line"><span class="attr">5</span>: <span class="string">linker, &#123;4&#125;, image</span></span><br><span class="line"><span class="attr">6</span>: <span class="string">bind-arch, "arm64", &#123;5&#125;, image</span></span><br></pre></td></tr></table></figure>

<p>其中含义为：</p>
<p>0：输入文件：找到源文件。</p>
<p>1：预处理阶段：处理包括宏的替换，头文件的导入。</p>
<p>2：编译阶段：进行词法分析、语法分析、检查语法是否正确，最终生成IR.</p>
<p>3：后端：LLVM会通过一个一个的Pass去优化，每个Pass做一些事情，最终生成汇编代码。</p>
<p>4：生成目标文件。</p>
<p>5：链接：链接需要的动态库和静态库，生成可执行文件。</p>
<p>6：通过不同的架构，生成对应的可执行文件。</p>
<h4 id="预处理阶段"><a href="#预处理阶段" class="headerlink" title="预处理阶段"></a>预处理阶段</h4><p>执行下面命令</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">clang -E main.m</span><br></pre></td></tr></table></figure>

<p>执行完成后会看到头文件的导入和宏的替换。</p>
<h4 id="编译阶段"><a href="#编译阶段" class="headerlink" title="编译阶段"></a>编译阶段</h4><h5 id="词法分析"><a href="#词法分析" class="headerlink" title="词法分析"></a>词法分析</h5><p>预处理完成后会进行词法分析。代码会被切成一个个Token，比如大小括号、等于号、字符串等。</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">clang -fmodules -fsyntax-only -Xclang -dump-tokens main.m</span><br></pre></td></tr></table></figure>

<p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/fc5f8b52042f4568aff42dd0772cbc7d~tplv-k3u1fbpfcp-watermark.image?" alt="截屏2021-10-03 15.39.32"></p>
<h5 id="语法分析"><a href="#语法分析" class="headerlink" title="语法分析"></a>语法分析</h5><p>词法分析后就是语法分析，它的任务是验证语法是否正确。再次发分析的基础上将单词序列组合成各类语法短语，如”程序”，”语句”，”表达式”等，然后将所有节点组成<code>抽象语法树</code>(AST)，语法分析阶段程序判断源程序在结构上是否正确。</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">clang -fmodules -fsyntax-only -Xclang -ast-dump main.m</span><br></pre></td></tr></table></figure>

<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/35d1e508411d47448c08b787a1560860~tplv-k3u1fbpfcp-watermark.image?" alt="截屏2021-10-03 15.42.36"></p>
<h4 id="生成中间代码IR-intermediate-representation"><a href="#生成中间代码IR-intermediate-representation" class="headerlink" title="生成中间代码IR(intermediate representation)"></a>生成中间代码IR(intermediate representation)</h4><p>完成上面的步骤后就开始生成中间代码IR了，代码生成器(Code Gemeration)会将语法树自定向下便利逐步翻译成LLVM IR。通过下面命令，查看IR代码</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">clang -S -fobjc-arc -emit-llvm main.m</span><br></pre></td></tr></table></figure>

<p>Objective C代码这一步会进行runtime的桥接，property合成，ARC处理等。</p>
<p>这一步会生成<code>main.ll</code>文件，内容如下：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line">; ModuleID = 'main.m'</span><br><span class="line">source_filename = <span class="string">"main.m"</span></span><br><span class="line">target datalayout = <span class="string">"e-m:o-i64:64-i128:128-n32:64-S128"</span></span><br><span class="line">target triple = <span class="string">"arm64-apple-macosx11.0.0"</span></span><br><span class="line"></span><br><span class="line">; Function Attrs: noinline nounwind optnone ssp uwtable</span><br><span class="line">define i32 @testAdd(i32 %<span class="number">0</span>, i32 %<span class="number">1</span>) #<span class="number">0</span> &#123;</span><br><span class="line">  %<span class="number">3</span> = alloca i32, align <span class="number">4</span></span><br><span class="line">  %<span class="number">4</span> = alloca i32, align <span class="number">4</span></span><br><span class="line">  store i32 %<span class="number">0</span>, i32* %<span class="number">3</span>, align <span class="number">4</span></span><br><span class="line">  store i32 %<span class="number">1</span>, i32* %<span class="number">4</span>, align <span class="number">4</span></span><br><span class="line">  %<span class="number">5</span> = load i32, i32* %<span class="number">3</span>, align <span class="number">4</span></span><br><span class="line">  %<span class="number">6</span> = load i32, i32* %<span class="number">4</span>, align <span class="number">4</span></span><br><span class="line">  %<span class="number">7</span> = add nsw i32 %<span class="number">5</span>, %<span class="number">6</span></span><br><span class="line">  %<span class="number">8</span> = add nsw i32 %<span class="number">7</span>, <span class="number">3</span></span><br><span class="line">  ret i32 %<span class="number">8</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">; Function Attrs: noinline nounwind optnone ssp uwtable</span><br><span class="line">define i32 @main(i32 %<span class="number">0</span>, i8** %<span class="number">1</span>) #<span class="number">0</span> &#123;</span><br><span class="line">  %<span class="number">3</span> = alloca i32, align <span class="number">4</span></span><br><span class="line">  %<span class="number">4</span> = alloca i32, align <span class="number">4</span></span><br><span class="line">  %<span class="number">5</span> = alloca i8**, align <span class="number">8</span></span><br><span class="line">  store i32 <span class="number">0</span>, i32* %<span class="number">3</span>, align <span class="number">4</span></span><br><span class="line">  store i32 %<span class="number">0</span>, i32* %<span class="number">4</span>, align <span class="number">4</span></span><br><span class="line">  store i8** %<span class="number">1</span>, i8*** %<span class="number">5</span>, align <span class="number">8</span></span><br><span class="line">  %<span class="number">6</span> = call i32 @testAdd(i32 <span class="number">1</span>, i32 <span class="number">2</span>)</span><br><span class="line">  ret i32 %<span class="number">6</span></span><br><span class="line">&#125;</span><br><span class="line">attributes #<span class="number">0</span> = &#123; noinline nounwind optnone ssp uwtable <span class="string">"disable-tail-calls"</span>=<span class="string">"false"</span> <span class="string">"frame-pointer"</span>=<span class="string">"non-leaf"</span> <span class="string">"less-precise-fpmad"</span>=<span class="string">"false"</span> <span class="string">"min-legal-vector-width"</span>=<span class="string">"0"</span> <span class="string">"no-infs-fp-math"</span>=<span class="string">"false"</span> <span class="string">"no-jump-tables"</span>=<span class="string">"false"</span> <span class="string">"no-nans-fp-math"</span>=<span class="string">"false"</span> <span class="string">"no-signed-zeros-fp-math"</span>=<span class="string">"false"</span> <span class="string">"no-trapping-math"</span>=<span class="string">"true"</span> <span class="string">"probe-stack"</span>=<span class="string">"__chkstk_darwin"</span> <span class="string">"stack-protector-buffer-size"</span>=<span class="string">"8"</span> <span class="string">"target-cpu"</span>=<span class="string">"apple-m1"</span> <span class="string">"target-features"</span>=<span class="string">"+aes,+crc,+crypto,+dotprod,+fp-armv8,+fp16fml,+fullfp16,+lse,+neon,+ras,+rcpc,+rdm,+sha2,+sha3,+sm4,+v8.5a,+zcm,+zcz"</span> <span class="string">"unsafe-fp-math"</span>=<span class="string">"false"</span> <span class="string">"use-soft-float"</span>=<span class="string">"false"</span> &#125;</span><br><span class="line"></span><br><span class="line">!llvm.<span class="keyword">module</span>.flags = !&#123;!<span class="number">0</span>, !<span class="number">1</span>, !<span class="number">2</span>, !<span class="number">3</span>, !<span class="number">4</span>, !<span class="number">5</span>, !<span class="number">6</span>, !<span class="number">7</span>, !<span class="number">8</span>, !<span class="number">9</span>, !<span class="number">10</span>, !<span class="number">11</span>&#125;</span><br><span class="line">!llvm.ident = !&#123;!<span class="number">12</span>&#125;</span><br><span class="line"></span><br><span class="line">!<span class="number">0</span> = !&#123;i32 <span class="number">2</span>, !<span class="string">"SDK Version"</span>, [<span class="number">2</span> x i32] [i32 <span class="number">11</span>, i32 <span class="number">3</span>]&#125;</span><br><span class="line">!<span class="number">1</span> = !&#123;i32 <span class="number">1</span>, !<span class="string">"Objective-C Version"</span>, i32 <span class="number">2</span>&#125;</span><br><span class="line">!<span class="number">2</span> = !&#123;i32 <span class="number">1</span>, !<span class="string">"Objective-C Image Info Version"</span>, i32 <span class="number">0</span>&#125;</span><br><span class="line">!<span class="number">3</span> = !&#123;i32 <span class="number">1</span>, !<span class="string">"Objective-C Image Info Section"</span>, !<span class="string">"__DATA,__objc_imageinfo,regular,no_dead_strip"</span>&#125;</span><br><span class="line">!<span class="number">4</span> = !&#123;i32 <span class="number">1</span>, !<span class="string">"Objective-C Garbage Collection"</span>, i8 <span class="number">0</span>&#125;</span><br><span class="line">!<span class="number">5</span> = !&#123;i32 <span class="number">1</span>, !<span class="string">"Objective-C Class Properties"</span>, i32 <span class="number">64</span>&#125;</span><br><span class="line">!<span class="number">6</span> = !&#123;i32 <span class="number">1</span>, !<span class="string">"wchar_size"</span>, i32 <span class="number">4</span>&#125;</span><br><span class="line">!<span class="number">7</span> = !&#123;i32 <span class="number">1</span>, !<span class="string">"branch-target-enforcement"</span>, i32 <span class="number">0</span>&#125;</span><br><span class="line">!<span class="number">8</span> = !&#123;i32 <span class="number">1</span>, !<span class="string">"sign-return-address"</span>, i32 <span class="number">0</span>&#125;</span><br><span class="line">!<span class="number">9</span> = !&#123;i32 <span class="number">1</span>, !<span class="string">"sign-return-address-all"</span>, i32 <span class="number">0</span>&#125;</span><br><span class="line">!<span class="number">10</span> = !&#123;i32 <span class="number">1</span>, !<span class="string">"sign-return-address-with-bkey"</span>, i32 <span class="number">0</span>&#125;</span><br><span class="line">!<span class="number">11</span> = !&#123;i32 <span class="number">7</span>, !<span class="string">"PIC Level"</span>, i32 <span class="number">2</span>&#125;</span><br><span class="line">!<span class="number">12</span> = !&#123;!<span class="string">"Apple clang version 13.0.0 (clang-1300.0.29.3)"</span>&#125;</span><br></pre></td></tr></table></figure>

<p>IR的基本语法</p>
<blockquote>
<p>@全局标识</p>
<p>%局部标识</p>
<p>alloca开辟空间</p>
<p>align内存对齐</p>
<p>i32 32bit，4字节</p>
<p>store 写入内存</p>
<p>load 读取数据</p>
<p>call 调用函数</p>
<p>ret 返回</p>
</blockquote>
<p>IR的优化</p>
<p>LLVM的优化分别是-O0 -O1 -O2 -O3 -Os</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">clang -Os -S -fobjc-arc -emit-llvm main.m -o main.ll</span><br></pre></td></tr></table></figure>

<p>可以看到优化后的代码：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">; ModuleID = 'main.m'</span><br><span class="line">source_filename = <span class="string">"main.m"</span></span><br><span class="line">target datalayout = <span class="string">"e-m:o-i64:64-i128:128-n32:64-S128"</span></span><br><span class="line">target triple = <span class="string">"arm64-apple-macosx11.0.0"</span></span><br><span class="line"></span><br><span class="line">; Function Attrs: norecurse nounwind optsize readnone ssp uwtable willreturn</span><br><span class="line">define i32 @testAdd(i32 %<span class="number">0</span>, i32 %<span class="number">1</span>) local_unnamed_addr #<span class="number">0</span> &#123;</span><br><span class="line">  %<span class="number">3</span> = add i32 %<span class="number">0</span>, <span class="number">3</span></span><br><span class="line">  %<span class="number">4</span> = add i32 %<span class="number">3</span>, %<span class="number">1</span></span><br><span class="line">  ret i32 %<span class="number">4</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">; Function Attrs: norecurse nounwind optsize readnone ssp uwtable willreturn</span><br><span class="line">define i32 @main(i32 %<span class="number">0</span>, i8** nocapture readnone %<span class="number">1</span>) local_unnamed_addr #<span class="number">0</span> &#123;</span><br><span class="line">  ret i32 <span class="number">6</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">attributes #<span class="number">0</span> = &#123; norecurse nounwind optsize readnone ssp uwtable willreturn <span class="string">"disable-tail-calls"</span>=<span class="string">"false"</span> <span class="string">"frame-pointer"</span>=<span class="string">"non-leaf"</span> <span class="string">"less-precise-fpmad"</span>=<span class="string">"false"</span> <span class="string">"min-legal-vector-width"</span>=<span class="string">"0"</span> <span class="string">"no-infs-fp-math"</span>=<span class="string">"false"</span> <span class="string">"no-jump-tables"</span>=<span class="string">"false"</span> <span class="string">"no-nans-fp-math"</span>=<span class="string">"false"</span> <span class="string">"no-signed-zeros-fp-math"</span>=<span class="string">"false"</span> <span class="string">"no-trapping-math"</span>=<span class="string">"true"</span> <span class="string">"probe-stack"</span>=<span class="string">"__chkstk_darwin"</span> <span class="string">"stack-protector-buffer-size"</span>=<span class="string">"8"</span> <span class="string">"target-cpu"</span>=<span class="string">"apple-m1"</span> <span class="string">"target-features"</span>=<span class="string">"+aes,+crc,+crypto,+dotprod,+fp-armv8,+fp16fml,+fullfp16,+lse,+neon,+ras,+rcpc,+rdm,+sha2,+sha3,+sm4,+v8.5a,+zcm,+zcz"</span> <span class="string">"unsafe-fp-math"</span>=<span class="string">"false"</span> <span class="string">"use-soft-float"</span>=<span class="string">"false"</span> &#125;</span><br><span class="line"></span><br><span class="line">!llvm.<span class="keyword">module</span>.flags = !&#123;!<span class="number">0</span>, !<span class="number">1</span>, !<span class="number">2</span>, !<span class="number">3</span>, !<span class="number">4</span>, !<span class="number">5</span>, !<span class="number">6</span>, !<span class="number">7</span>, !<span class="number">8</span>, !<span class="number">9</span>, !<span class="number">10</span>, !<span class="number">11</span>&#125;</span><br><span class="line">!llvm.ident = !&#123;!<span class="number">12</span>&#125;</span><br><span class="line"></span><br><span class="line">!<span class="number">0</span> = !&#123;i32 <span class="number">2</span>, !<span class="string">"SDK Version"</span>, [<span class="number">2</span> x i32] [i32 <span class="number">11</span>, i32 <span class="number">3</span>]&#125;</span><br><span class="line">!<span class="number">1</span> = !&#123;i32 <span class="number">1</span>, !<span class="string">"Objective-C Version"</span>, i32 <span class="number">2</span>&#125;</span><br><span class="line">!<span class="number">2</span> = !&#123;i32 <span class="number">1</span>, !<span class="string">"Objective-C Image Info Version"</span>, i32 <span class="number">0</span>&#125;</span><br><span class="line">!<span class="number">3</span> = !&#123;i32 <span class="number">1</span>, !<span class="string">"Objective-C Image Info Section"</span>, !<span class="string">"__DATA,__objc_imageinfo,regular,no_dead_strip"</span>&#125;</span><br><span class="line">!<span class="number">4</span> = !&#123;i32 <span class="number">1</span>, !<span class="string">"Objective-C Garbage Collection"</span>, i8 <span class="number">0</span>&#125;</span><br><span class="line">!<span class="number">5</span> = !&#123;i32 <span class="number">1</span>, !<span class="string">"Objective-C Class Properties"</span>, i32 <span class="number">64</span>&#125;</span><br><span class="line">!<span class="number">6</span> = !&#123;i32 <span class="number">1</span>, !<span class="string">"wchar_size"</span>, i32 <span class="number">4</span>&#125;</span><br><span class="line">!<span class="number">7</span> = !&#123;i32 <span class="number">1</span>, !<span class="string">"branch-target-enforcement"</span>, i32 <span class="number">0</span>&#125;</span><br><span class="line">!<span class="number">8</span> = !&#123;i32 <span class="number">1</span>, !<span class="string">"sign-return-address"</span>, i32 <span class="number">0</span>&#125;</span><br><span class="line">!<span class="number">9</span> = !&#123;i32 <span class="number">1</span>, !<span class="string">"sign-return-address-all"</span>, i32 <span class="number">0</span>&#125;</span><br><span class="line">!<span class="number">10</span> = !&#123;i32 <span class="number">1</span>, !<span class="string">"sign-return-address-with-bkey"</span>, i32 <span class="number">0</span>&#125;</span><br><span class="line">!<span class="number">11</span> = !&#123;i32 <span class="number">7</span>, !<span class="string">"PIC Level"</span>, i32 <span class="number">2</span>&#125;</span><br><span class="line">!<span class="number">12</span> = !&#123;!<span class="string">"Apple clang version 13.0.0 (clang-1300.0.29.3)"</span>&#125;</span><br></pre></td></tr></table></figure>

<h4 id="bitCode（非必须）"><a href="#bitCode（非必须）" class="headerlink" title="bitCode（非必须）"></a>bitCode（非必须）</h4><p>生成.bc的中间代码。</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">clang -emit-llvm -c main.ll -o main.bc</span><br></pre></td></tr></table></figure>

<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br></pre></td><td class="code"><pre><span class="line">dec0 <span class="number">170b</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">1400</span> <span class="number">0000</span> <span class="number">0</span>c0b <span class="number">0000</span></span><br><span class="line">ffff ffff <span class="number">4243</span> c0de <span class="number">3514</span> <span class="number">0000</span> <span class="number">0700</span> <span class="number">0000</span></span><br><span class="line"><span class="number">620</span>c <span class="number">3024</span> <span class="number">9596</span> a6a5 f7d7 <span class="number">7f</span>7d d3b4 <span class="number">4f</span>fb</span><br><span class="line"><span class="number">76</span>ef df3f <span class="number">2</span>d44 <span class="number">0132</span> <span class="number">0500</span> <span class="number">0000</span> <span class="number">210</span>c <span class="number">0000</span></span><br><span class="line"><span class="number">7</span>c02 <span class="number">0000</span> <span class="number">0b0</span>2 <span class="number">2100</span> <span class="number">0200</span> <span class="number">0000</span> <span class="number">1600</span> <span class="number">0000</span></span><br><span class="line"><span class="number">0781</span> <span class="number">2391</span> <span class="number">41</span>c8 <span class="number">0449</span> <span class="number">0610</span> <span class="number">3239</span> <span class="number">9201</span> <span class="number">840</span>c</span><br><span class="line"><span class="number">2505</span> <span class="number">0819</span> <span class="number">1e04</span> <span class="number">8b</span>62 <span class="number">8010</span> <span class="number">4502</span> <span class="number">4292</span> <span class="number">0b</span>42</span><br><span class="line"><span class="number">8410</span> <span class="number">3214</span> <span class="number">3808</span> <span class="number">184b</span> <span class="number">0</span>a32 <span class="number">4288</span> <span class="number">4870</span> c421</span><br><span class="line"><span class="number">2344</span> <span class="number">1287</span> <span class="number">8</span>c10 <span class="number">4192</span> <span class="number">0264</span> c808 b114 <span class="number">2043</span></span><br><span class="line"><span class="number">4688</span> <span class="number">20</span>c9 <span class="number">0132</span> <span class="number">4284</span> <span class="number">182</span>a <span class="number">282</span>a <span class="number">9031</span> <span class="number">7</span>cb0</span><br><span class="line"><span class="number">5</span>c91 <span class="number">20</span>c4 c800 <span class="number">0000</span> <span class="number">8920</span> <span class="number">0000</span> <span class="number">0e00</span> <span class="number">0000</span></span><br><span class="line"><span class="number">3222</span> <span class="number">0809</span> <span class="number">2064</span> <span class="number">8504</span> <span class="number">1322</span> a484 <span class="number">0413</span> <span class="number">22e3</span></span><br><span class="line"><span class="number">84</span>a1 <span class="number">9014</span> <span class="number">124</span>c <span class="number">888</span>c <span class="number">0b</span>84 <span class="number">844</span>c <span class="number">1034</span> <span class="number">7304</span></span><br><span class="line"><span class="number">6050</span> <span class="number">0600</span> a098 <span class="number">2340</span> <span class="number">6888</span> ca00 <span class="number">5064</span> <span class="number">0301</span></span><br><span class="line"><span class="number">2900</span> <span class="number">0423</span> <span class="number">0054</span> <span class="number">0000</span> <span class="number">5118</span> <span class="number">0000</span> b200 <span class="number">0000</span></span><br><span class="line"><span class="number">1b</span>de <span class="number">27f</span>8 ffff ffff <span class="number">0170</span> <span class="number">0009</span> <span class="number">2803</span> <span class="number">4003</span></span><br><span class="line">c280 <span class="number">2087</span> <span class="number">7498</span> <span class="number">8770</span> <span class="number">1007</span> <span class="number">7628</span> <span class="number">8736</span> a087</span><br><span class="line"><span class="number">7048</span> <span class="number">0776</span> <span class="number">6883</span> <span class="number">7108</span> <span class="number">0776</span> <span class="number">6087</span> <span class="number">7900</span> cc21</span><br><span class="line"><span class="number">1</span>cd8 <span class="number">611</span>e ca01 <span class="number">20</span>cc <span class="number">411</span>e c2a1 <span class="number">1</span>dca a10d</span><br><span class="line">e0e1 <span class="number">1</span>dd2 c11d e8a1 <span class="number">1</span>ce4 <span class="number">0170</span> <span class="number">8777</span> <span class="number">7087</span></span><br><span class="line"><span class="number">3660</span> <span class="number">8772</span> <span class="number">0807</span> <span class="number">7300</span> <span class="number">0876</span> <span class="number">2887</span> <span class="number">7998</span> <span class="number">8736</span></span><br><span class="line"><span class="number">8007</span> <span class="number">7928</span> <span class="number">8771</span> <span class="number">4887</span> <span class="number">7928</span> <span class="number">8736</span> <span class="number">3007</span> <span class="number">7868</span></span><br><span class="line"><span class="number">8770</span> <span class="number">2007</span> c01c c281 <span class="number">1</span>de6 a11c <span class="number">00</span>a2 <span class="number">1</span>dd2</span><br><span class="line">c11d da80 <span class="number">1</span>dca e11c c281 <span class="number">1</span>dda c01e ca61</span><br><span class="line"><span class="number">1</span>ce8 e11d e4a1 <span class="number">0</span>dee <span class="number">211</span>d c881 <span class="number">1</span>ed0 <span class="number">0180</span></span><br><span class="line"><span class="number">0380</span> <span class="number">7087</span> <span class="number">7768</span> <span class="number">8374</span> <span class="number">7007</span> <span class="number">7398</span> <span class="number">8736</span> <span class="number">3007</span></span><br><span class="line"><span class="number">7868</span> <span class="number">8376</span> <span class="number">0807</span> <span class="number">7</span>a40 <span class="number">07</span>c0 <span class="number">1</span>cc2 <span class="number">811</span>d e6a1</span><br><span class="line"><span class="number">1</span>c00 c21d dea1 <span class="number">0</span>dd4 a11e da01 <span class="number">1</span>eda <span class="number">801</span>e</span><br><span class="line">c241 <span class="number">1</span>cd8 a11c e601 <span class="number">3087</span> <span class="number">7060</span> <span class="number">8779</span> <span class="number">2807</span></span><br><span class="line"><span class="number">8070</span> <span class="number">8777</span> <span class="number">6803</span> <span class="number">7708</span> <span class="number">0777</span> <span class="number">9887</span> <span class="number">3630</span> <span class="number">0778</span></span><br><span class="line"><span class="number">6883</span> <span class="number">7608</span> <span class="number">077</span>a <span class="number">4007</span> c01c c281 <span class="number">1</span>de6 a11c</span><br><span class="line"><span class="number">00</span>c2 <span class="number">1</span>dde a10d e621 <span class="number">1</span>dce c11d ca81 <span class="number">1</span>cda</span><br><span class="line"><span class="number">401f</span> ca41 <span class="number">1</span>ede <span class="number">611</span>e dac0 <span class="number">1</span>ce0 a10d da21</span><br><span class="line"><span class="number">1</span>ce8 <span class="number">011</span>d <span class="number">0073</span> <span class="number">0807</span> <span class="number">7698</span> <span class="number">8772</span> <span class="number">0008</span> <span class="number">7778</span></span><br><span class="line"><span class="number">8736</span> a007 <span class="number">7908</span> <span class="number">0778</span> <span class="number">8087</span> <span class="number">7470</span> <span class="number">8773</span> <span class="number">6883</span></span><br><span class="line"><span class="number">7608</span> <span class="number">077</span>a <span class="number">4007</span> <span class="number">801</span>e e4a1 <span class="number">1</span>eca <span class="number">0120</span> e041</span><br><span class="line"><span class="number">1</span>ede <span class="number">411</span>c caa1 <span class="number">0</span>de6 <span class="number">811</span>e c261 <span class="number">1</span>cd6 <span class="number">01f</span>8</span><br><span class="line"><span class="number">855f</span> <span class="number">1807</span> <span class="number">7458</span> <span class="number">8779</span> a087 <span class="number">75f</span>8 <span class="number">0572</span> <span class="number">0807</span></span><br><span class="line"><span class="number">79b</span>8 <span class="number">8774</span> <span class="number">7007</span> <span class="number">8098</span> <span class="number">077</span>a <span class="number">0887</span> <span class="number">7158</span> <span class="number">8736</span></span><br><span class="line"><span class="number">8007</span> <span class="number">7978</span> <span class="number">077</span>a <span class="number">2887</span> <span class="number">71</span>a0 <span class="number">8777</span> <span class="number">9087</span> <span class="number">3610</span></span><br><span class="line"><span class="number">877</span>a <span class="number">3007</span> <span class="number">7328</span> <span class="number">0779</span> <span class="number">6883</span> <span class="number">7948</span> <span class="number">077</span>d <span class="number">2807</span></span><br><span class="line"><span class="number">000f</span> <span class="number">0082</span> <span class="number">1</span>ec2 <span class="number">411</span>e cea1 <span class="number">1</span>ce8 a10d c601</span><br><span class="line"><span class="number">1</span>eea <span class="number">0108</span> <span class="number">0778</span> <span class="number">8007</span> <span class="number">7628</span> <span class="number">8736</span> <span class="number">6887</span> <span class="number">3800</span></span><br><span class="line"><span class="number">087</span>a <span class="number">0807</span> <span class="number">7938</span> <span class="number">8772</span> a087 <span class="number">3630</span> <span class="number">8772</span> <span class="number">0807</span></span><br><span class="line"><span class="number">7</span>aa8 <span class="number">0779</span> <span class="number">2887</span> <span class="number">7900</span> d620 <span class="number">1</span>cca <span class="number">611</span>e d860</span><br><span class="line"><span class="number">0</span>dc6 <span class="number">411</span>e c681 <span class="number">0</span>dd6 <span class="number">601</span>c e421 <span class="number">1f</span>e0 <span class="number">811</span>e</span><br><span class="line">de81 <span class="number">0</span>dd6 <span class="number">801</span>c de81 <span class="number">1</span>ee0 <span class="number">411</span>e de81 <span class="number">1</span>cd8</span><br><span class="line"><span class="number">600</span>d cc01 <span class="number">1</span>eda <span class="number">201</span>c e4a1 <span class="number">1</span>dec <span class="number">010f</span> d860</span><br><span class="line"><span class="number">0</span>dcc <span class="number">011</span>e e2c0 <span class="number">0</span>ecc a11d d881 <span class="number">0</span>dd6 c01c</span><br><span class="line">ea81 <span class="number">1</span>dd8 c11c e021 <span class="number">0</span>eec <span class="number">800</span>d d680 <span class="number">1</span>de6</span><br><span class="line">a11c d860 <span class="number">0</span>ddc a11c dec1 <span class="number">1</span>dd8 <span class="number">600</span>d e421</span><br><span class="line"><span class="number">1</span>ce6 <span class="number">810</span>d d640 <span class="number">1</span>ec6 <span class="number">011</span>e c681 <span class="number">0</span>dd6 <span class="number">401</span>e</span><br><span class="line">c8a1 <span class="number">1</span>dd8 <span class="number">600</span>d e601 <span class="number">1</span>dc2 <span class="number">410</span>e d860 <span class="number">0</span>de6</span><br><span class="line"><span class="number">011</span>d c261 <span class="number">0</span>ed8 <span class="number">600</span>d e6a1 <span class="number">1</span>de8 <span class="number">800</span>d d6c0</span><br><span class="line"><span class="number">1</span>ef0 c00d ea20 <span class="number">1</span>cd8 <span class="number">600</span>d f461 <span class="number">1</span>cda <span class="number">810</span>d</span><br><span class="line">d640 <span class="number">1f</span>c6 <span class="number">411f</span> <span class="number">00</span>a2 <span class="number">1</span>edc <span class="number">611</span>e c2c1 <span class="number">1</span>cca</span><br><span class="line">a10d cc01 <span class="number">1</span>eda a01d c281 <span class="number">1</span>ed0 <span class="number">0130</span> <span class="number">8770</span></span><br><span class="line"><span class="number">6087</span> <span class="number">7928</span> <span class="number">0780</span> a887 <span class="number">7928</span> <span class="number">8736</span> <span class="number">9887</span> <span class="number">7730</span></span><br><span class="line"><span class="number">077</span>a <span class="number">6803</span> <span class="number">7360</span> <span class="number">8777</span> <span class="number">0807</span> <span class="number">7</span>a00 cc21 <span class="number">1</span>cd8</span><br><span class="line"><span class="number">611</span>e ca01 <span class="number">0000</span> <span class="number">0000</span> <span class="number">4918</span> <span class="number">0000</span> <span class="number">0100</span> <span class="number">0000</span></span><br><span class="line"><span class="number">1382</span> <span class="number">0000</span> <span class="number">13b</span>0 <span class="number">7090</span> <span class="number">8776</span> b003 <span class="number">3</span>a68 <span class="number">8370</span></span><br><span class="line"><span class="number">8007</span> <span class="number">7860</span> <span class="number">8772</span> <span class="number">6883</span> <span class="number">7608</span> <span class="number">8771</span> <span class="number">7887</span> <span class="number">79</span>c0</span><br><span class="line"><span class="number">8738</span> <span class="number">8803</span> <span class="number">3780</span> <span class="number">0337</span> <span class="number">8083</span> <span class="number">0</span>d61 <span class="number">500</span>e <span class="number">6</span>dd0</span><br><span class="line"><span class="number">0e7</span>a f00e <span class="number">6</span>d90 <span class="number">0e76</span> <span class="number">4007</span> <span class="number">7</span>a60 <span class="number">0774</span> d006</span><br><span class="line">e910 <span class="number">0772</span> <span class="number">8007</span> <span class="number">7</span>a10 <span class="number">0772</span> <span class="number">8007</span> <span class="number">6</span>de0 <span class="number">0e73</span></span><br><span class="line"><span class="number">2007</span> <span class="number">7</span>a60 <span class="number">0774</span> d006 b310 <span class="number">0772</span> <span class="number">8007</span> <span class="number">1</span>a21</span><br><span class="line"><span class="number">0</span>c69 <span class="number">3000</span> d2f8 cc90 <span class="number">0</span>a38 <span class="number">0200</span> <span class="number">0002</span> <span class="number">0000</span></span><br><span class="line"><span class="number">0000</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">8003</span> <span class="number">1852</span> <span class="number">1</span>d84 <span class="number">0100</span> <span class="number">4000</span></span><br><span class="line"><span class="number">0000</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">7000</span> <span class="number">121b</span> <span class="number">048</span>a <span class="number">0</span>a0a</span><br><span class="line"><span class="number">0000</span> <span class="number">6481</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">0</span>a00 <span class="number">0000</span> <span class="number">321</span>e <span class="number">9810</span></span><br><span class="line"><span class="number">1911</span> <span class="number">4</span>c90 <span class="number">8</span>c09 <span class="number">2647</span> c604 <span class="number">4382</span> <span class="number">22</span>a0 <span class="number">1</span>c4b</span><br><span class="line"><span class="number">5806</span> <span class="number">8212</span> <span class="number">1801</span> a019 <span class="number">0120</span> <span class="number">28</span>c0 <span class="number">8042</span> <span class="number">2807</span></span><br><span class="line"><span class="number">0000</span> <span class="number">0000</span> b118 <span class="number">0000</span> <span class="number">9700</span> <span class="number">0000</span> <span class="number">3308</span> <span class="number">801</span>c</span><br><span class="line">c4e1 <span class="number">1</span>c66 <span class="number">1401</span> <span class="number">3</span>d88 <span class="number">4338</span> <span class="number">84</span>c3 <span class="number">8</span>c42 <span class="number">8007</span></span><br><span class="line"><span class="number">7978</span> <span class="number">0773</span> <span class="number">9871</span> <span class="number">0</span>ce6 <span class="number">000f</span> ed10 <span class="number">0</span>ef4 <span class="number">800</span>e</span><br><span class="line"><span class="number">330</span>c <span class="number">421</span>e c2c1 <span class="number">1</span>dce a11c <span class="number">6630</span> <span class="number">053</span>d <span class="number">8843</span></span><br><span class="line"><span class="number">3884</span> <span class="number">831b</span> cc03 <span class="number">3</span>dc8 <span class="number">433</span>d <span class="number">8</span>c03 <span class="number">3</span>dcc <span class="number">788</span>c</span><br><span class="line"><span class="number">7470</span> <span class="number">077b</span> <span class="number">0807</span> <span class="number">7948</span> <span class="number">8770</span> <span class="number">7007</span> <span class="number">7</span>a70 <span class="number">0376</span></span><br><span class="line"><span class="number">7887</span> <span class="number">7020</span> <span class="number">8719</span> cc11 <span class="number">0</span>eec <span class="number">900</span>e e130 <span class="number">0f</span>6e</span><br><span class="line"><span class="number">300f</span> e3f0 <span class="number">0</span>ef0 <span class="number">500</span>e <span class="number">3310</span> c41d de21 <span class="number">1</span>cd8</span><br><span class="line"><span class="number">211</span>d c261 <span class="number">1e66</span> <span class="number">3089</span> <span class="number">3b</span>bc <span class="number">833b</span> d043 <span class="number">39b</span>4</span><br><span class="line"><span class="number">033</span>c bc83 <span class="number">3</span>c84 <span class="number">033b</span> ccf0 <span class="number">1476</span> <span class="number">6007</span> <span class="number">7b</span>68</span><br><span class="line"><span class="number">0737</span> <span class="number">6887</span> <span class="number">7268</span> <span class="number">0737</span> <span class="number">8087</span> <span class="number">7090</span> <span class="number">8770</span> <span class="number">6007</span></span><br><span class="line"><span class="number">7628</span> <span class="number">0776</span> f805 <span class="number">7678</span> <span class="number">8777</span> <span class="number">8087</span> <span class="number">5f</span>08 <span class="number">8771</span></span><br><span class="line"><span class="number">1887</span> <span class="number">7298</span> <span class="number">8779</span> <span class="number">9881</span> <span class="number">2</span>cee f00e eee0 <span class="number">0</span>ef5</span><br><span class="line">c00e ec30 <span class="number">0362</span> c8a1 <span class="number">1</span>ce4 a11c cca1 <span class="number">1</span>ce4</span><br><span class="line">a11c dc61 <span class="number">1</span>cca <span class="number">211</span>c c481 <span class="number">1</span>dca <span class="number">6106</span> d690</span><br><span class="line"><span class="number">4339</span> c843 <span class="number">3998</span> <span class="number">4339</span> c843 <span class="number">39b</span>8 c338 <span class="number">9443</span></span><br><span class="line"><span class="number">3888</span> <span class="number">033b</span> <span class="number">94</span>c3 <span class="number">2f</span>bc <span class="number">833</span>c fc82 <span class="number">3b</span>d4 <span class="number">033b</span></span><br><span class="line">b0c3 <span class="number">0</span>cc7 <span class="number">6987</span> <span class="number">7058</span> <span class="number">8772</span> <span class="number">7083</span> <span class="number">7468</span> <span class="number">0778</span></span><br><span class="line"><span class="number">6087</span> <span class="number">7418</span> <span class="number">8774</span> a087 <span class="number">19</span>ce <span class="number">530f</span> ee00 <span class="number">0f</span>f2</span><br><span class="line"><span class="number">500</span>e e490 <span class="number">0</span>ee3 <span class="number">400f</span> e120 <span class="number">0</span>eec <span class="number">500</span>e <span class="number">3320</span></span><br><span class="line"><span class="number">281</span>d dcc1 <span class="number">1</span>ec2 <span class="number">411</span>e d221 <span class="number">1</span>cdc <span class="number">811</span>e dce0</span><br><span class="line"><span class="number">1</span>ce4 e11d ea01 <span class="number">1e66</span> <span class="number">1851</span> <span class="number">38b</span>0 <span class="number">433</span>a <span class="number">9</span>c83</span><br><span class="line"><span class="number">3b</span>cc <span class="number">5024</span> <span class="number">7660</span> <span class="number">077b</span> <span class="number">6807</span> <span class="number">3760</span> <span class="number">8777</span> <span class="number">7807</span></span><br><span class="line"><span class="number">7898</span> <span class="number">514</span>c f490 <span class="number">0f</span>f0 <span class="number">500</span>e <span class="number">331</span>e <span class="number">6</span>a1e ca61</span><br><span class="line"><span class="number">1</span>ce8 <span class="number">211</span>d dec1 <span class="number">1</span>d7e <span class="number">011</span>e e4a1 <span class="number">1</span>ccc <span class="number">211</span>d</span><br><span class="line">f061 <span class="number">0654</span> <span class="number">8583</span> <span class="number">38</span>cc c33b b043 <span class="number">3</span>dd0 <span class="number">4339</span></span><br><span class="line">fcc2 <span class="number">3</span>ce4 <span class="number">433b</span> <span class="number">88</span>c3 <span class="number">3b</span>b0 c38c c50a <span class="number">8779</span></span><br><span class="line"><span class="number">9887</span> <span class="number">7718</span> <span class="number">8774</span> <span class="number">0807</span> <span class="number">7</span>a28 <span class="number">0772</span> <span class="number">9881</span> <span class="number">5</span>ce3</span><br><span class="line"><span class="number">100</span>e ecc0 <span class="number">0</span>ee5 <span class="number">500</span>e f330 <span class="number">23</span>c1 d241 <span class="number">1</span>ee4</span><br><span class="line">e117 d8e1 <span class="number">1</span>dde <span class="number">011</span>e <span class="number">6648</span> <span class="number">193b</span> b083 <span class="number">3</span>db4</span><br><span class="line"><span class="number">831b</span> <span class="number">84</span>c3 <span class="number">388</span>c <span class="number">4339</span> ccc3 <span class="number">3</span>cb8 c139 c8c3</span><br><span class="line"><span class="number">3b</span>d4 <span class="number">033</span>c cc48 b471 <span class="number">0807</span> <span class="number">7660</span> <span class="number">0771</span> <span class="number">0887</span></span><br><span class="line"><span class="number">7158</span> <span class="number">8719</span> dbc6 <span class="number">0</span>eec <span class="number">600f</span> ede0 <span class="number">06f</span>0 <span class="number">200f</span></span><br><span class="line">e530 <span class="number">0f</span>e5 <span class="number">200f</span> f650 <span class="number">0e6</span>e <span class="number">100</span>e e330 <span class="number">0</span>ee5</span><br><span class="line"><span class="number">300f</span> f3e0 <span class="number">06e9</span> e00e e450 <span class="number">0</span>ef8 <span class="number">3023</span> e2ec</span><br><span class="line"><span class="number">611</span>c c281 <span class="number">1</span>dd8 e117 ec21 <span class="number">1</span>de6 <span class="number">211</span>d c421</span><br><span class="line"><span class="number">1</span>dd8 <span class="number">211</span>d e821 <span class="number">1f</span>66 <span class="number">209</span>d <span class="number">3b</span>bc <span class="number">433</span>d b803</span><br><span class="line"><span class="number">3994</span> <span class="number">8339</span> cc58 bc70 <span class="number">7007</span> <span class="number">7778</span> <span class="number">077</span>a <span class="number">0807</span></span><br><span class="line"><span class="number">7</span>a48 <span class="number">8777</span> <span class="number">7007</span> <span class="number">0000</span> <span class="number">7920</span> <span class="number">0000</span> <span class="number">8600</span> <span class="number">0000</span></span><br><span class="line"><span class="number">721</span>e <span class="number">4820</span> <span class="number">4388</span> <span class="number">0</span>c19 <span class="number">0972</span> <span class="number">3248</span> <span class="number">2023</span> <span class="number">818</span>c</span><br><span class="line"><span class="number">9191</span> d144 a010 <span class="number">2864</span> <span class="number">3</span>c31 <span class="number">3242</span> <span class="number">8e90</span> <span class="number">21</span>a3</span><br><span class="line">e830 ee02 cbe4 <span class="number">796</span>d e071 <span class="number">4</span>a36 <span class="number">5</span>d5d e206</span><br><span class="line"><span class="number">5344</span> <span class="number">4b</span>20 <span class="number">5665</span> <span class="number">7273</span> <span class="number">696f</span> <span class="number">6e4</span>f <span class="number">626</span>a <span class="number">6563</span></span><br><span class="line"><span class="number">7469</span> <span class="number">7665</span> <span class="number">2</span>d43 <span class="number">2056</span> <span class="number">6572</span> <span class="number">7369</span> <span class="number">6f</span>6e <span class="number">4f</span>62</span><br><span class="line"><span class="number">6</span>a65 <span class="number">6374</span> <span class="number">6976</span> <span class="number">652</span>d <span class="number">4320</span> <span class="number">496</span>d <span class="number">6167</span> <span class="number">6520</span></span><br><span class="line"><span class="number">496</span>e <span class="number">666f</span> <span class="number">2056</span> <span class="number">6572</span> <span class="number">7369</span> <span class="number">6f</span>6e <span class="number">4f</span>62 <span class="number">6</span>a65</span><br><span class="line"><span class="number">6374</span> <span class="number">6976</span> <span class="number">652</span>d <span class="number">4320</span> <span class="number">496</span>d <span class="number">6167</span> <span class="number">6520</span> <span class="number">496</span>e</span><br><span class="line"><span class="number">666f</span> <span class="number">2053</span> <span class="number">6563</span> <span class="number">7469</span> <span class="number">6f</span>6e <span class="number">5f</span>5f <span class="number">4441</span> <span class="number">5441</span></span><br><span class="line"><span class="number">2</span>c5f <span class="number">5f</span>6f <span class="number">626</span>a <span class="number">635f</span> <span class="number">696</span>d <span class="number">6167</span> <span class="number">6569</span> <span class="number">6e66</span></span><br><span class="line"><span class="number">6f</span>2c <span class="number">7265</span> <span class="number">6775</span> <span class="number">6</span>c61 <span class="number">722</span>c <span class="number">6e6</span>f <span class="number">5f</span>64 <span class="number">6561</span></span><br><span class="line"><span class="number">645f</span> <span class="number">7374</span> <span class="number">7269</span> <span class="number">704f</span> <span class="number">626</span>a <span class="number">6563</span> <span class="number">7469</span> <span class="number">7665</span></span><br><span class="line"><span class="number">2</span>d43 <span class="number">2047</span> <span class="number">6172</span> <span class="number">6261</span> <span class="number">6765</span> <span class="number">2043</span> <span class="number">6f</span>6c <span class="number">6</span>c65</span><br><span class="line"><span class="number">6374</span> <span class="number">696f</span> <span class="number">6e4</span>f <span class="number">626</span>a <span class="number">6563</span> <span class="number">7469</span> <span class="number">7665</span> <span class="number">2</span>d43</span><br><span class="line"><span class="number">2043</span> <span class="number">6</span>c61 <span class="number">7373</span> <span class="number">2050</span> <span class="number">726f</span> <span class="number">7065</span> <span class="number">7274</span> <span class="number">6965</span></span><br><span class="line"><span class="number">7377</span> <span class="number">6368</span> <span class="number">6172</span> <span class="number">5f</span>73 <span class="number">697</span>a <span class="number">6562</span> <span class="number">7261</span> <span class="number">6e63</span></span><br><span class="line"><span class="number">682</span>d <span class="number">7461</span> <span class="number">7267</span> <span class="number">6574</span> <span class="number">2</span>d65 <span class="number">6e66</span> <span class="number">6f</span>72 <span class="number">6365</span></span><br><span class="line"><span class="number">6</span>d65 <span class="number">6e74</span> <span class="number">7369</span> <span class="number">676</span>e <span class="number">2</span>d72 <span class="number">6574</span> <span class="number">7572</span> <span class="number">6e2</span>d</span><br><span class="line"><span class="number">6164</span> <span class="number">6472</span> <span class="number">6573</span> <span class="number">7373</span> <span class="number">6967</span> <span class="number">6e2</span>d <span class="number">7265</span> <span class="number">7475</span></span><br><span class="line"><span class="number">726</span>e <span class="number">2</span>d61 <span class="number">6464</span> <span class="number">7265</span> <span class="number">7373</span> <span class="number">2</span>d61 <span class="number">6</span>c6c <span class="number">7369</span></span><br><span class="line"><span class="number">676</span>e <span class="number">2</span>d72 <span class="number">6574</span> <span class="number">7572</span> <span class="number">6e2</span>d <span class="number">6164</span> <span class="number">6472</span> <span class="number">6573</span></span><br><span class="line"><span class="number">732</span>d <span class="number">7769</span> <span class="number">7468</span> <span class="number">2</span>d62 <span class="number">6b</span>65 <span class="number">7950</span> <span class="number">4943</span> <span class="number">204</span>c</span><br><span class="line"><span class="number">6576</span> <span class="number">656</span>c <span class="number">4170</span> <span class="number">706</span>c <span class="number">6520</span> <span class="number">636</span>c <span class="number">616</span>e <span class="number">6720</span></span><br><span class="line"><span class="number">7665</span> <span class="number">7273</span> <span class="number">696f</span> <span class="number">6e20</span> <span class="number">3133</span> <span class="number">2e30</span> <span class="number">2e30</span> <span class="number">2028</span></span><br><span class="line"><span class="number">636</span>c <span class="number">616</span>e <span class="number">672</span>d <span class="number">3133</span> <span class="number">3030</span> <span class="number">2e30</span> <span class="number">2e32</span> <span class="number">392</span>e</span><br><span class="line"><span class="number">3329</span> <span class="number">0000</span> <span class="number">2308</span> <span class="number">8030</span> <span class="number">8290</span> <span class="number">0</span>c23 <span class="number">0800</span> <span class="number">3182</span></span><br><span class="line"><span class="number">0014</span> <span class="number">2308</span> <span class="number">8331</span> <span class="number">8200</span> <span class="number">1</span>c23 <span class="number">0800</span> <span class="number">3282</span> <span class="number">0024</span></span><br><span class="line"><span class="number">330</span>c <span class="number">4f</span>00 cd30 <span class="number">44</span>c2 <span class="number">33</span>c3 <span class="number">100</span>d d20c <span class="number">4344</span></span><br><span class="line"><span class="number">1433</span> <span class="number">0</span>c91 <span class="number">31</span>cd <span class="number">3044</span> <span class="number">0735</span> c310 <span class="number">21</span>d5 <span class="number">0</span>c43</span><br><span class="line"><span class="number">9448</span> <span class="number">330</span>c <span class="number">9122</span> cd30 <span class="number">448b</span> <span class="number">34</span>c3 <span class="number">1031</span> d20c</span><br><span class="line"><span class="number">83</span>d5 <span class="number">3</span>c33 <span class="number">048</span>e <span class="number">8</span>c04 <span class="number">2628</span> <span class="number">2336</span> <span class="number">36b</span>b <span class="number">3697</span></span><br><span class="line">b637 b23a b632 <span class="number">1733</span> b6b0 b3b9 <span class="number">5118</span> ebc2</span><br><span class="line"><span class="number">326</span>d e33a ef03 <span class="number">8330</span> <span class="number">4885</span> <span class="number">8</span>dcd aecd <span class="number">258</span>d</span><br><span class="line">accc <span class="number">8</span>d6e <span class="number">9440</span> <span class="number">0</span>c00 a918 <span class="number">0000</span> <span class="number">1</span>c00 <span class="number">0000</span></span><br><span class="line"><span class="number">0b0</span>a <span class="number">7228</span> <span class="number">8777</span> <span class="number">8007</span> <span class="number">7</span>a58 <span class="number">7098</span> <span class="number">433</span>d b8c3</span><br><span class="line"><span class="number">38b</span>0 <span class="number">4339</span> d0c3 <span class="number">82e6</span> <span class="number">1</span>cc6 a10d e841 <span class="number">1</span>ec2</span><br><span class="line">c11d e621 <span class="number">1</span>de8 <span class="number">211</span>d dec1 <span class="number">1</span>d16 <span class="number">34e3</span> <span class="number">600</span>e</span><br><span class="line">e750 <span class="number">0f</span>e1 <span class="number">200f</span> e440 <span class="number">0f</span>e1 <span class="number">200f</span> e750 <span class="number">0</span>ef4</span><br><span class="line">b080 <span class="number">8107</span> <span class="number">7928</span> <span class="number">8770</span> <span class="number">6007</span> <span class="number">7678</span> <span class="number">8771</span> <span class="number">0807</span></span><br><span class="line"><span class="number">7</span>a28 <span class="number">0772</span> <span class="number">5870</span> <span class="number">9</span>cc3 <span class="number">38b</span>4 <span class="number">013b</span> a483 <span class="number">3</span>d94</span><br><span class="line">c382 <span class="number">031</span>e e841 <span class="number">1</span>ec2 a11e e801 <span class="number">1</span>d00 <span class="number">0000</span></span><br><span class="line">d110 <span class="number">0000</span> <span class="number">0600</span> <span class="number">0000</span> <span class="number">07</span>cc <span class="number">3</span>ca4 <span class="number">833b</span> <span class="number">9</span>c03</span><br><span class="line"><span class="number">3b</span>94 <span class="number">033</span>d a083 <span class="number">3</span>c94 <span class="number">4338</span> <span class="number">90</span>c3 <span class="number">0100</span> <span class="number">0000</span></span><br><span class="line"><span class="number">6120</span> <span class="number">0000</span> <span class="number">0e00</span> <span class="number">0000</span> <span class="number">1304</span> <span class="number">412</span>c <span class="number">1000</span> <span class="number">0000</span></span><br><span class="line"><span class="number">0100</span> <span class="number">0000</span> <span class="number">0465</span> <span class="number">0000</span> <span class="number">3311</span> <span class="number">0040</span> <span class="number">8</span>cc2 <span class="number">4</span>c04</span><br><span class="line"><span class="number">0010</span> a330 <span class="number">6</span>c40 <span class="number">08</span>c5 <span class="number">000</span>c <span class="number">1b</span>10 <span class="number">0131</span> <span class="number">0024</span></span><br><span class="line">c020 <span class="number">0106</span> <span class="number">0</span>a01 <span class="number">0860</span> <span class="number">6080</span> c006 <span class="number">0000</span> <span class="number">0000</span></span><br><span class="line"><span class="number">6120</span> <span class="number">0000</span> <span class="number">0</span>d00 <span class="number">0000</span> <span class="number">1304</span> c14c <span class="number">0400</span> <span class="number">10</span>a3</span><br><span class="line"><span class="number">3013</span> <span class="number">0100</span> c428 cc44 <span class="number">1400</span> <span class="number">410</span>a c306 c4a0</span><br><span class="line"><span class="number">0</span>cc0 b001 <span class="number">2114</span> <span class="number">0330</span> <span class="number">6</span>c40 <span class="number">0404</span> <span class="number">018</span>c <span class="number">1818</span></span><br><span class="line"><span class="number">0008</span> <span class="number">8241</span> f02c cd06 <span class="number">0000</span> <span class="number">0000</span> <span class="number">7120</span> <span class="number">0000</span></span><br><span class="line"><span class="number">0300</span> <span class="number">0000</span> <span class="number">320</span>e <span class="number">1022</span> <span class="number">8400</span> e304 <span class="number">1830</span> <span class="number">4f</span>00</span><br><span class="line"><span class="number">0000</span> <span class="number">0000</span> <span class="number">650</span>c <span class="number">0000</span> <span class="number">2500</span> <span class="number">0000</span> <span class="number">1203</span> <span class="number">9428</span></span><br><span class="line"><span class="number">0100</span> <span class="number">0000</span> <span class="number">0200</span> <span class="number">0000</span> <span class="number">0b00</span> <span class="number">0000</span> <span class="number">0600</span> <span class="number">0000</span></span><br><span class="line"><span class="number">4</span>c00 <span class="number">0000</span> <span class="number">0100</span> <span class="number">0000</span> <span class="number">5800</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">0000</span></span><br><span class="line"><span class="number">5800</span> <span class="number">0000</span> <span class="number">0200</span> <span class="number">0000</span> <span class="number">8800</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">0000</span></span><br><span class="line"><span class="number">1100</span> <span class="number">0000</span> <span class="number">1800</span> <span class="number">0000</span> <span class="number">2900</span> <span class="number">0000</span> <span class="number">0600</span> <span class="number">0000</span></span><br><span class="line"><span class="number">0700</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">8800</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">0000</span></span><br><span class="line"><span class="number">0000</span> <span class="number">0000</span> <span class="number">0200</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">2f</span>00 <span class="number">0000</span></span><br><span class="line"><span class="number">0800</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">0700</span> <span class="number">0000</span> ffff ffff</span><br><span class="line"><span class="number">0024</span> <span class="number">0000</span> <span class="number">3700</span> <span class="number">0000</span> <span class="number">0500</span> <span class="number">0000</span> <span class="number">0700</span> <span class="number">0000</span></span><br><span class="line"><span class="number">0400</span> <span class="number">0000</span> ffff ffff <span class="number">0024</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">0000</span></span><br><span class="line"><span class="number">5</span>d0c <span class="number">0000</span> <span class="number">1200</span> <span class="number">0000</span> <span class="number">1203</span> <span class="number">947</span>c <span class="number">0000</span> <span class="number">0000</span></span><br><span class="line"><span class="number">7465</span> <span class="number">7374</span> <span class="number">4164</span> <span class="number">646</span>d <span class="number">6169</span> <span class="number">6e31</span> <span class="number">332</span>e <span class="number">302</span>e</span><br><span class="line"><span class="number">3061</span> <span class="number">726</span>d <span class="number">3634</span> <span class="number">2</span>d61 <span class="number">7070</span> <span class="number">6</span>c65 <span class="number">2</span>d6d <span class="number">6163</span></span><br><span class="line"><span class="number">6f</span>73 <span class="number">7831</span> <span class="number">312</span>e <span class="number">302</span>e <span class="number">306</span>d <span class="number">6169</span> <span class="number">6e2</span>e <span class="number">6</span>d5f</span><br><span class="line"><span class="number">7465</span> <span class="number">7374</span> <span class="number">4164</span> <span class="number">645f</span> <span class="number">6</span>d61 <span class="number">696</span>e <span class="number">0000</span> <span class="number">0000</span></span><br></pre></td></tr></table></figure>

<h4 id="生成汇编代码"><a href="#生成汇编代码" class="headerlink" title="生成汇编代码"></a>生成汇编代码</h4><p>我们通过最终的.bc或.ll代码生成汇编代码</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">clang -S -fobjc-arc main.bc -o main.s</span><br><span class="line">clang -S -fobjc-arc main.ll -o main.s</span><br></pre></td></tr></table></figure>

<p>生成的汇编代码如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line">	.section	__TEXT,__text,regular,pure_instructions</span><br><span class="line">	.build_version macos, 11, 0	sdk_version 11, 3</span><br><span class="line">	.globl	_testAdd                        ; -- Begin function testAdd</span><br><span class="line">	.p2align	2</span><br><span class="line">_testAdd:                               ; @testAdd</span><br><span class="line">	.cfi_startproc</span><br><span class="line">; %bb.0:</span><br><span class="line">	sub	sp, sp, #16                     ; &#x3D;16</span><br><span class="line">	.cfi_def_cfa_offset 16</span><br><span class="line">	str	w0, [sp, #12]</span><br><span class="line">	str	w1, [sp, #8]</span><br><span class="line">	ldr	w8, [sp, #12]</span><br><span class="line">	ldr	w9, [sp, #8]</span><br><span class="line">	add	w8, w8, w9</span><br><span class="line">	add	w0, w8, #3                      ; &#x3D;3</span><br><span class="line">	add	sp, sp, #16                     ; &#x3D;16</span><br><span class="line">	ret</span><br><span class="line">	.cfi_endproc</span><br><span class="line">                                        ; -- End function</span><br><span class="line">	.globl	_main                           ; -- Begin function main</span><br><span class="line">	.p2align	2</span><br><span class="line">_main:                                  ; @main</span><br><span class="line">	.cfi_startproc</span><br><span class="line">; %bb.0:</span><br><span class="line">	sub	sp, sp, #32                     ; &#x3D;32</span><br><span class="line">	stp	x29, x30, [sp, #16]             ; 16-byte Folded Spill</span><br><span class="line">	add	x29, sp, #16                    ; &#x3D;16</span><br><span class="line">	.cfi_def_cfa w29, 16</span><br><span class="line">	.cfi_offset w30, -8</span><br><span class="line">	.cfi_offset w29, -16</span><br><span class="line">	stur	wzr, [x29, #-4]</span><br><span class="line">	str	w0, [sp, #8]</span><br><span class="line">	str	x1, [sp]</span><br><span class="line">	mov	w0, #1</span><br><span class="line">	mov	w1, #2</span><br><span class="line">	bl	_testAdd</span><br><span class="line">	ldp	x29, x30, [sp, #16]             ; 16-byte Folded Reload</span><br><span class="line">	add	sp, sp, #32                     ; &#x3D;32</span><br><span class="line">	ret</span><br><span class="line">	.cfi_endproc</span><br><span class="line">                                        ; -- End function</span><br><span class="line">	.section	__DATA,__objc_imageinfo,regular,no_dead_strip</span><br><span class="line">L_OBJC_IMAGE_INFO:</span><br><span class="line">	.long	0</span><br><span class="line">	.long	64</span><br><span class="line"></span><br><span class="line">.subsections_via_symbols</span><br></pre></td></tr></table></figure>

<p>汇编代码也可以优化，参数和IR相同</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">clang -Os -S -fobjc-arc main.m -o main.s</span><br></pre></td></tr></table></figure>

<p>优化后的汇编代码如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">	.section	__TEXT,__text,regular,pure_instructions</span><br><span class="line">	.build_version macos, 11, 0	sdk_version 11, 3</span><br><span class="line">	.globl	_testAdd                        ; -- Begin function testAdd</span><br><span class="line">	.p2align	2</span><br><span class="line">_testAdd:                               ; @testAdd</span><br><span class="line">	.cfi_startproc</span><br><span class="line">; %bb.0:</span><br><span class="line">	add	w8, w0, w1</span><br><span class="line">	add	w0, w8, #3                      ; &#x3D;3</span><br><span class="line">	ret</span><br><span class="line">	.cfi_endproc</span><br><span class="line">                                        ; -- End function</span><br><span class="line">	.globl	_main                           ; -- Begin function main</span><br><span class="line">	.p2align	2</span><br><span class="line">_main:                                  ; @main</span><br><span class="line">	.cfi_startproc</span><br><span class="line">; %bb.0:</span><br><span class="line">	mov	w0, #6</span><br><span class="line">	ret</span><br><span class="line">	.cfi_endproc</span><br><span class="line">                                        ; -- End function</span><br><span class="line">	.section	__DATA,__objc_imageinfo,regular,no_dead_strip</span><br><span class="line">L_OBJC_IMAGE_INFO:</span><br><span class="line">	.long	0</span><br><span class="line">	.long	64</span><br><span class="line"></span><br><span class="line">.subsections_via_symbols</span><br></pre></td></tr></table></figure>

<h4 id="生成目标文件"><a href="#生成目标文件" class="headerlink" title="生成目标文件"></a>生成目标文件</h4><p>目标文件生成，汇编器以汇编代码作为输出，将汇编代码转为机器代码，最后输出目标文件(object file)。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">clang -fmodules -c main.s -o main.o</span><br></pre></td></tr></table></figure>

<p>.o文件的内容：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line">cffa edfe <span class="number">0</span>c00 <span class="number">0001</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">0100</span> <span class="number">0000</span></span><br><span class="line"><span class="number">0400</span> <span class="number">0000</span> b801 <span class="number">0000</span> <span class="number">0020</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">0000</span></span><br><span class="line"><span class="number">1900</span> <span class="number">0000</span> <span class="number">3801</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">0000</span></span><br><span class="line"><span class="number">0000</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">0000</span></span><br><span class="line">a000 <span class="number">0000</span> <span class="number">0000</span> <span class="number">0000</span> d801 <span class="number">0000</span> <span class="number">0000</span> <span class="number">0000</span></span><br><span class="line">a000 <span class="number">0000</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">0700</span> <span class="number">0000</span> <span class="number">0700</span> <span class="number">0000</span></span><br><span class="line"><span class="number">0300</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">5f</span>5f <span class="number">7465</span> <span class="number">7874</span> <span class="number">0000</span></span><br><span class="line"><span class="number">0000</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">5f</span>5f <span class="number">5445</span> <span class="number">5854</span> <span class="number">0000</span></span><br><span class="line"><span class="number">0000</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">0000</span></span><br><span class="line"><span class="number">5400</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">0000</span> d801 <span class="number">0000</span> <span class="number">0200</span> <span class="number">0000</span></span><br><span class="line"><span class="number">7802</span> <span class="number">0000</span> <span class="number">0100</span> <span class="number">0000</span> <span class="number">0004</span> <span class="number">0080</span> <span class="number">0000</span> <span class="number">0000</span></span><br><span class="line"><span class="number">0000</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">5f</span>5f <span class="number">6f</span>62 <span class="number">6</span>a63 <span class="number">5f</span>69</span><br><span class="line"><span class="number">6</span>d61 <span class="number">6765</span> <span class="number">696</span>e <span class="number">666f</span> <span class="number">5f</span>5f <span class="number">4441</span> <span class="number">5441</span> <span class="number">0000</span></span><br><span class="line"><span class="number">0000</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">5400</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">0000</span></span><br><span class="line"><span class="number">0800</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">2</span>c02 <span class="number">0000</span> <span class="number">0000</span> <span class="number">0000</span></span><br><span class="line"><span class="number">0000</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">0010</span> <span class="number">0000</span> <span class="number">0000</span></span><br><span class="line"><span class="number">0000</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">5f</span>5f <span class="number">636f</span> <span class="number">6</span>d70 <span class="number">6163</span></span><br><span class="line"><span class="number">745f</span> <span class="number">756</span>e <span class="number">7769</span> <span class="number">6e64</span> <span class="number">5f</span>5f <span class="number">4</span>c44 <span class="number">0000</span> <span class="number">0000</span></span><br><span class="line"><span class="number">0000</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">6000</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">0000</span></span><br><span class="line"><span class="number">4000</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">3802</span> <span class="number">0000</span> <span class="number">0300</span> <span class="number">0000</span></span><br><span class="line"><span class="number">8002</span> <span class="number">0000</span> <span class="number">0200</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">0002</span> <span class="number">0000</span> <span class="number">0000</span></span><br><span class="line"><span class="number">0000</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">3200</span> <span class="number">0000</span> <span class="number">1800</span> <span class="number">0000</span></span><br><span class="line"><span class="number">0100</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">0b00</span> <span class="number">0003</span> <span class="number">0b00</span> <span class="number">0000</span> <span class="number">0000</span></span><br><span class="line"><span class="number">0200</span> <span class="number">0000</span> <span class="number">1800</span> <span class="number">0000</span> <span class="number">9002</span> <span class="number">0000</span> <span class="number">0500</span> <span class="number">0000</span></span><br><span class="line">e002 <span class="number">0000</span> <span class="number">2800</span> <span class="number">0000</span> <span class="number">0b00</span> <span class="number">0000</span> <span class="number">5000</span> <span class="number">0000</span></span><br><span class="line"><span class="number">0000</span> <span class="number">0000</span> <span class="number">0300</span> <span class="number">0000</span> <span class="number">0300</span> <span class="number">0000</span> <span class="number">0200</span> <span class="number">0000</span></span><br><span class="line"><span class="number">0500</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">0000</span></span><br><span class="line"><span class="number">0000</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">0000</span></span><br><span class="line"><span class="number">0000</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">0000</span></span><br><span class="line"><span class="number">0000</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">0000</span> ff43 <span class="number">00</span>d1 e00f <span class="number">00b</span>9</span><br><span class="line">e10b <span class="number">00b</span>9 e80f <span class="number">40b</span>9 e90b <span class="number">40b</span>9 <span class="number">0801</span> <span class="number">090b</span></span><br><span class="line"><span class="number">000</span>d <span class="number">0011</span> ff43 <span class="number">0091</span> c003 <span class="number">5f</span>d6 ff83 <span class="number">00</span>d1</span><br><span class="line">fd7b <span class="number">01</span>a9 fd43 <span class="number">0091</span> bfc3 <span class="number">1f</span>b8 e00b <span class="number">00b</span>9</span><br><span class="line">e103 <span class="number">00f</span>9 <span class="number">2000</span> <span class="number">8052</span> <span class="number">4100</span> <span class="number">8052</span> <span class="number">0000</span> <span class="number">0094</span></span><br><span class="line">fd7b <span class="number">41</span>a9 ff83 <span class="number">0091</span> c003 <span class="number">5f</span>d6 <span class="number">0000</span> <span class="number">0000</span></span><br><span class="line"><span class="number">4000</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">0000</span></span><br><span class="line"><span class="number">2400</span> <span class="number">0000</span> <span class="number">0010</span> <span class="number">0002</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">0000</span></span><br><span class="line"><span class="number">0000</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">2400</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">0000</span></span><br><span class="line"><span class="number">3000</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">0004</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">0000</span></span><br><span class="line"><span class="number">0000</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">4400</span> <span class="number">0000</span> <span class="number">0400</span> <span class="number">002</span>d</span><br><span class="line"><span class="number">2000</span> <span class="number">0000</span> <span class="number">0100</span> <span class="number">0006</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">0100</span> <span class="number">0006</span></span><br><span class="line"><span class="number">1</span>c00 <span class="number">0000</span> <span class="number">0e01</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">0000</span></span><br><span class="line"><span class="number">1600</span> <span class="number">0000</span> <span class="number">0e02</span> <span class="number">0000</span> <span class="number">5400</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">0000</span></span><br><span class="line"><span class="number">1000</span> <span class="number">0000</span> <span class="number">0e03</span> <span class="number">0000</span> <span class="number">6000</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">0000</span></span><br><span class="line"><span class="number">0100</span> <span class="number">0000</span> <span class="number">0f</span>01 <span class="number">0000</span> <span class="number">2400</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">0000</span></span><br><span class="line"><span class="number">0700</span> <span class="number">0000</span> <span class="number">0f</span>01 <span class="number">0000</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">0000</span></span><br><span class="line"><span class="number">005f</span> <span class="number">6</span>d61 <span class="number">696</span>e <span class="number">005f</span> <span class="number">7465</span> <span class="number">7374</span> <span class="number">4164</span> <span class="number">6400</span></span><br><span class="line"><span class="number">6</span>c74 <span class="number">6</span>d70 <span class="number">3200</span> <span class="number">6</span>c74 <span class="number">6</span>d70 <span class="number">3100</span> <span class="number">6</span>c74 <span class="number">6</span>d70</span><br><span class="line"><span class="number">3000</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">0000</span></span><br></pre></td></tr></table></figure>

<h4 id="生成可执行文件（链接）"><a href="#生成可执行文件（链接）" class="headerlink" title="生成可执行文件（链接）"></a>生成可执行文件（链接）</h4><p>链接器把编译产生的.o文件和.dylib/.a文件，生成一个mach-o文件。</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">clang main.o -o main</span><br></pre></td></tr></table></figure>

<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/d5b7d078762b4b62a564dd0b95384104~tplv-k3u1fbpfcp-watermark.image?" alt="可执行文件">s</p>
<h3 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h3><p>本篇我们主要研究了编译器的编译流程，从<code>源代码</code>到<code>可执行文件</code></p>
<ul>
<li>预处理：处理包括宏的替换，头文件的导入等。</li>
<li>词法分析：根据一些标识符对源文件进行切割，词法分析产生的记号一般可以分为如下几类：关键字、标识符、字面量和特殊符号。注意这一步是不会检查代码是否有错误。</li>
<li>语法分析：语法分析器对词法分析后的记号进行语法分析，产生抽象语法树(AST),这一步会检查语法是否正确</li>
<li>生成中间代码（IR）：将上面生成的语法树转换成中间代码。中间代码使得编译器可以范围内前端和后端。编译器的前端负责产生机器无关的中间代码，编译器后端将中间代码转换成目标机器代码。</li>
<li>生成汇编代码：将中间代码准换成汇编。</li>
<li>生成目标文件（.o）:将汇编语言转换成目标文件。</li>
<li>链接目标文件，生成可执行文件：这一步主要是处理多个库依赖的情况。</li>
</ul>

    </div>

    
    
    

      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/iOS%E5%BA%95%E5%B1%82/" rel="tag"># iOS底层</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2021/10/01/iOS%E5%8C%85%E4%BD%93%E7%A7%AF%E4%BC%98%E5%8C%96-Flutter%E5%8C%85%E4%BC%98%E5%8C%96/" rel="prev" title="iOS包体积优化-Flutter包优化">
      <i class="fa fa-chevron-left"></i> iOS包体积优化-Flutter包优化
    </a></div>
      <div class="post-nav-item">
    <a href="/2021/10/06/iOS%E5%BA%95%E5%B1%82%E6%8E%A2%E7%B4%A2-Mach-O%E6%96%87%E4%BB%B6/" rel="next" title="iOS底层探索- Mach-O文件">
      iOS底层探索- Mach-O文件 <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-3"><a class="nav-link" href="#解释型语言和编译型语言区别"><span class="nav-number">1.</span> <span class="nav-text">解释型语言和编译型语言区别</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#解释型语言"><span class="nav-number">1.1.</span> <span class="nav-text">解释型语言</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#编译型语言"><span class="nav-number">1.2.</span> <span class="nav-text">编译型语言</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#传统编译器的设计"><span class="nav-number">2.</span> <span class="nav-text">传统编译器的设计</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#编译器前端"><span class="nav-number">2.1.</span> <span class="nav-text">编译器前端</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#优化器"><span class="nav-number">2.2.</span> <span class="nav-text">优化器</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#编译器后端"><span class="nav-number">2.3.</span> <span class="nav-text">编译器后端</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#llvm架构编译器的设计"><span class="nav-number">2.4.</span> <span class="nav-text">llvm架构编译器的设计</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#编译流程"><span class="nav-number">3.</span> <span class="nav-text">编译流程</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#预处理阶段"><span class="nav-number">3.1.</span> <span class="nav-text">预处理阶段</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#编译阶段"><span class="nav-number">3.2.</span> <span class="nav-text">编译阶段</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#词法分析"><span class="nav-number">3.2.1.</span> <span class="nav-text">词法分析</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#语法分析"><span class="nav-number">3.2.2.</span> <span class="nav-text">语法分析</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#生成中间代码IR-intermediate-representation"><span class="nav-number">3.3.</span> <span class="nav-text">生成中间代码IR(intermediate representation)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#bitCode（非必须）"><span class="nav-number">3.4.</span> <span class="nav-text">bitCode（非必须）</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#生成汇编代码"><span class="nav-number">3.5.</span> <span class="nav-text">生成汇编代码</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#生成目标文件"><span class="nav-number">3.6.</span> <span class="nav-text">生成目标文件</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#生成可执行文件（链接）"><span class="nav-number">3.7.</span> <span class="nav-text">生成可执行文件（链接）</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#总结"><span class="nav-number">4.</span> <span class="nav-text">总结</span></a></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">Jason</p>
  <div class="site-description" itemprop="description">个人技术博客</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">57</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
        <span class="site-state-item-count">1</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
        <span class="site-state-item-count">9</span>
        <span class="site-state-item-name">标签</span>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Jason</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://muse.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a> 强力驱动
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

</body>
</html>
